{"ast":null,"code":"var _jsxFileName = \"/Users/lassevad/Desktop/utveksling/Fag/finals/bigdata-service/frontend/src/Supervised.js\";\nimport React from 'react';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_ROUTE = \"http://localhost:5000\";\n\nclass GolferService extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      supColumns: null,\n      supColItems: null,\n      selectedSupCol: null,\n      binInput: null,\n      disp_image: null,\n      report: null,\n      precision: null,\n      recall: null,\n      f1: null,\n      accuracy: null,\n      newInput: null,\n      selectedSupColName: null,\n      ynew: null\n    };\n    this.getSupColumns = this.getSupColumns.bind(this);\n    this.getReport = this.getReport.bind(this);\n    this.getAccuracy = this.getAccuracy.bind(this);\n    this.getRecall = this.getRecall.bind(this);\n    this.getPrecision = this.getPrecision.bind(this);\n    this.getF1 = this.getF1.bind(this);\n    this.getYnew = this.getYnew.bind(this);\n    this.setBin = this.setBin.bind(this);\n    this.setNew = this.setNew.bind(this);\n    this.setSupColumn = this.setSupColumn.bind(this);\n    this.sendNewInfo = this.sendNewInfo.bind(this);\n    this.uploadSupCol = this.uploadSupCol.bind(this);\n    this.uploadBins = this.uploadBins.bind(this);\n    this.uploadNew = this.uploadNew.bind(this);\n    this.changeDispImage = this.changeDispImage.bind(this);\n    this.generateGraph = this.generateGraph.bind(this);\n    this.fillSupColumns = this.fillSupColumns.bind(this);\n    this.sendGraphInfo = this.sendGraphInfo.bind(this);\n  }\n\n  setSupColumn(e) {\n    console.log(e.target.value);\n    this.setState({\n      selectedSupCol: e.target.value,\n      selectedSupColName: this.state.supColumns[e.target.value]\n    });\n  }\n\n  setBin(e) {\n    this.setState({\n      binInput: e.target.value\n    });\n    console.log(this.state.binInput);\n  }\n\n  setNew(e) {\n    this.setState({\n      newInput: e.target.value\n    });\n    console.log(this.state.newInput);\n  }\n\n  getSupColumns() {\n    return axios.get(API_ROUTE + \"/supcolumns\").then(response => {\n      console.log(response.data);\n      this.setState({\n        supColumns: response.data\n      });\n    });\n  }\n\n  getReport() {\n    return axios.get(API_ROUTE + \"/report\").then(response => {\n      console.log(response.data);\n      this.setState({\n        report: response.data\n      });\n    });\n  }\n\n  getAccuracy() {\n    return axios.get(API_ROUTE + \"/accuracy\").then(response => {\n      console.log(response.data);\n      this.setState({\n        accuracy: response.data\n      });\n    });\n  }\n\n  getPrecision() {\n    return axios.get(API_ROUTE + \"/precision\").then(response => {\n      console.log(response.data);\n      this.setState({\n        precision: response.data\n      });\n    });\n  }\n\n  getRecall() {\n    return axios.get(API_ROUTE + \"/recall\").then(response => {\n      console.log(response.data);\n      this.setState({\n        recall: response.data\n      });\n    });\n  }\n\n  getF1() {\n    return axios.get(API_ROUTE + \"/f1\").then(response => {\n      console.log(response.data);\n      this.setState({\n        f1: response.data\n      });\n    });\n  }\n\n  getYnew() {\n    return axios.get(API_ROUTE + \"/ynew\").then(response => {\n      console.log(response.data);\n      this.setState({\n        ynew: response.data\n      });\n    });\n  }\n\n  fillSupColumns() {\n    let cols = this.state.supColumns;\n    let menuItems = cols.map((index, value) => /*#__PURE__*/_jsxDEV(MenuItem, {\n      value: value,\n      children: index\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this));\n    this.setState({\n      supColItems: menuItems\n    });\n  }\n\n  uploadSupCol() {\n    return axios.post(API_ROUTE + '/uploadSupCol', {\n      data: {\n        col: this.state.selectedSupCol\n      },\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  uploadBins() {\n    return axios.post(API_ROUTE + '/uploadSupBins', {\n      data: {\n        bins: this.state.binInput\n      },\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  uploadNew() {\n    return axios.post(API_ROUTE + '/uploadNew', {\n      data: {\n        new: this.state.newInput\n      },\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  changeDispImage(newImage) {\n    this.setState({\n      disp_image: newImage\n    });\n  }\n\n  generateGraph() {\n    return axios.get(API_ROUTE + \"/generateSupGraph\", {\n      responseType: 'arraybuffer'\n    }).then(response => {\n      console.log(response);\n      var blob = new Blob([response.data], {\n        type: response.headers['content-type']\n      });\n      var image = URL.createObjectURL(blob);\n      console.log(image);\n      this.changeDispImage(image);\n      console.log(this.state.disp_image);\n      return image;\n    });\n  }\n\n  async sendGraphInfo() {\n    await this.uploadSupCol();\n    await this.uploadBins();\n    await this.generateGraph();\n    this.getAccuracy();\n    this.getRecall();\n    this.getF1();\n    this.getPrecision();\n  }\n\n  async sendNewInfo() {\n    await this.uploadNew();\n    this.getYnew();\n  }\n\n  async componentDidMount() {\n    await this.getSupColumns();\n    this.fillSupColumns();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"graph\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Do supervised ML on a golfer!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n        children: \"Attribute to predict\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        onChange: this.setSupColumn,\n        children: this.state.supColItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n        children: \"Bins\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"standard-basic\",\n        value: this.state.binInput,\n        onChange: this.setBin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"file-field input-field\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignSelf: \"flex-end\",\n          justifyContent: \"center\",\n          className: \"upl\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"waves-effect waves-light btn\",\n            onClick: this.sendGraphInfo,\n            children: \"Classify\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          justifyContent: \"center\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.disp_image,\n            onChange: this.changeDispImage,\n            id: \"graph-upload\",\n            className: \"ImageSize\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"div\",\n          display: \"inline\",\n          children: [\"Accuracy: \", this.state.accuracy]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"div\",\n          display: \"inline\",\n          children: [\"Precision: \", this.state.precision]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"div\",\n          display: \"inline\",\n          children: [\"Recall: \", this.state.recall]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"div\",\n          display: \"inline\",\n          children: [\"F1: \", this.state.f1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Test with your own statistics!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: this.state.supColumns\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"standard-basic\",\n        value: this.state.newInput,\n        onChange: this.setNew,\n        className: \"new\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"file-field input-field\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignSelf: \"flex-end\",\n          justifyContent: \"center\",\n          className: \"upl\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"waves-effect waves-light btn\",\n            onClick: this.sendNewInfo,\n            children: [\"Check \", this.state.selectedSupColName, \" based on given statistics\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"div\",\n          display: \"inline\",\n          children: [\"Your \", this.state.selectedSupColName, \" has the value \", this.state.ynew]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default GolferService;","map":{"version":3,"sources":["/Users/lassevad/Desktop/utveksling/Fag/finals/bigdata-service/frontend/src/Supervised.js"],"names":["React","Select","InputLabel","MenuItem","Box","TextField","axios","API_ROUTE","GolferService","Component","constructor","props","state","supColumns","supColItems","selectedSupCol","binInput","disp_image","report","precision","recall","f1","accuracy","newInput","selectedSupColName","ynew","getSupColumns","bind","getReport","getAccuracy","getRecall","getPrecision","getF1","getYnew","setBin","setNew","setSupColumn","sendNewInfo","uploadSupCol","uploadBins","uploadNew","changeDispImage","generateGraph","fillSupColumns","sendGraphInfo","e","console","log","target","value","setState","get","then","response","data","cols","menuItems","map","index","post","col","headers","catch","error","bins","new","newImage","responseType","blob","Blob","type","image","URL","createObjectURL","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios';\n\nconst API_ROUTE = \"http://localhost:5000\"\n\nclass GolferService extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            supColumns: null,\n            supColItems: null,\n            selectedSupCol: null,\n            binInput: null,\n            disp_image: null,\n            report: null,\n            precision: null,\n            recall: null,\n            f1: null,\n            accuracy: null,\n            newInput: null,\n            selectedSupColName: null,\n            ynew: null\n        }\n        this.getSupColumns = this.getSupColumns.bind(this)\n        this.getReport = this.getReport.bind(this)\n        this.getAccuracy = this.getAccuracy.bind(this)\n        this.getRecall = this.getRecall.bind(this)\n        this.getPrecision = this.getPrecision.bind(this)\n        this.getF1= this.getF1.bind(this)\n        this.getYnew= this.getYnew.bind(this)\n        this.setBin = this.setBin.bind(this)\n        this.setNew = this.setNew.bind(this)\n        this.setSupColumn = this.setSupColumn.bind(this)\n        this.sendNewInfo = this.sendNewInfo.bind(this)\n        this.uploadSupCol = this.uploadSupCol.bind(this)\n        this.uploadBins = this.uploadBins.bind(this)\n        this.uploadNew = this.uploadNew.bind(this)\n        this.changeDispImage = this.changeDispImage.bind(this)\n        this.generateGraph = this.generateGraph.bind(this)\n        this.fillSupColumns = this.fillSupColumns.bind(this)\n        this.sendGraphInfo = this.sendGraphInfo.bind(this)\n    }\n\n    setSupColumn(e) {\n        console.log(e.target.value)\n        this.setState({\n            selectedSupCol: e.target.value,\n            selectedSupColName: this.state.supColumns[e.target.value]\n        })\n    }\n\n    setBin(e) {  \n        this.setState({\n            binInput: e.target.value\n        });  \n        console.log(this.state.binInput)  \n    }\n\n    setNew(e) {  \n        this.setState({\n            newInput: e.target.value\n        });  \n        console.log(this.state.newInput)  \n    }\n\n    getSupColumns() {\n        return axios.get(API_ROUTE + \"/supcolumns\")\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    supColumns: response.data\n                })\n            })\n    }\n\n    getReport() {\n        return axios.get(API_ROUTE + \"/report\")\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    report: response.data\n                })\n            })\n    }\n\n    getAccuracy() {\n        return axios.get(API_ROUTE + \"/accuracy\")\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    accuracy: response.data\n                })\n            })\n    }\n\n    getPrecision() {\n        return axios.get(API_ROUTE + \"/precision\")\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    precision: response.data\n                })\n            })\n    }\n\n    getRecall() {\n        return axios.get(API_ROUTE + \"/recall\")\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    recall: response.data\n                })\n            })\n    }\n\n    getF1() {\n        return axios.get(API_ROUTE + \"/f1\")\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    f1: response.data\n                })\n            })\n    }\n\n    getYnew() {\n        return axios.get(API_ROUTE + \"/ynew\")\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    ynew: response.data\n                })\n            })\n    }\n\n    fillSupColumns() {\n        let cols = this.state.supColumns;\n        let menuItems = cols.map((index, value) =>\n            <MenuItem value={value} key={index}>{index}</MenuItem>\n        );\n        this.setState({\n            supColItems: menuItems\n        })\n    }\n\n    uploadSupCol() {\n        return axios.post(API_ROUTE + '/uploadSupCol', {\n            data: {\n                col: this.state.selectedSupCol\n            },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(function (response) {\n                console.log(response);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n\n    uploadBins() {\n        return axios.post(API_ROUTE + '/uploadSupBins', {\n            data: {\n                bins: this.state.binInput\n            },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(function (response) {\n                console.log(response);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n\n    uploadNew() {\n        return axios.post(API_ROUTE + '/uploadNew', {\n            data: {\n                new: this.state.newInput\n            },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(function (response) {\n                console.log(response);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n\n    changeDispImage(newImage) {\n        this.setState({\n            disp_image: newImage\n        });\n    }\n\n    generateGraph() {\n        return axios.get(API_ROUTE + \"/generateSupGraph\", { responseType: 'arraybuffer' })\n            .then(response => {\n                console.log(response)\n                var blob = new Blob(\n                    [response.data],\n                    { type: response.headers['content-type'] }\n                )\n\n                var image = URL.createObjectURL(blob)\n                console.log(image)\n\n                this.changeDispImage(image)\n                console.log(this.state.disp_image)\n                return image\n            });\n    }\n\n    async sendGraphInfo() {\n        await this.uploadSupCol()\n        await this.uploadBins()\n        await this.generateGraph()\n        this.getAccuracy()\n        this.getRecall()\n        this.getF1()\n        this.getPrecision()\n    } \n\n    async sendNewInfo(){\n        await this.uploadNew()\n        this.getYnew()\n    }\n\n    async componentDidMount() {\n        await this.getSupColumns()\n        this.fillSupColumns()\n    }\n\n    render() {\n        return (\n            <div class=\"graph\">\n                <h4>\n                    Do supervised ML on a golfer!\n                </h4>\n                <InputLabel>Attribute to predict</InputLabel>\n                <Select\n                    onChange={this.setSupColumn}>\n                    {this.state.supColItems}\n                </Select>\n                <InputLabel>Bins</InputLabel>\n                <TextField id=\"standard-basic\" value={this.state.binInput} onChange={this.setBin}/>\n\n                <div class=\"file-field input-field\">\n                    <Box display=\"flex\" alignSelf=\"flex-end\" justifyContent=\"center\" className=\"upl\">\n                        <a class=\"waves-effect waves-light btn\" onClick={this.sendGraphInfo}>Classify</a>\n                    </Box>\n                    <Box display=\"flex\" justifyContent=\"center\">\n                        <img src={this.state.disp_image} onChange={this.changeDispImage} id=\"graph-upload\" className=\"ImageSize\" />\n                    </Box>\n                </div>\n                <div>\n                    <Box component=\"div\" display=\"inline\">Accuracy: {this.state.accuracy}</Box>\n                </div>\n                <div>\n                    <Box component=\"div\" display=\"inline\">Precision: {this.state.precision}</Box>\n                </div>\n                <div>\n                    <Box component=\"div\" display=\"inline\">Recall: {this.state.recall}</Box>\n                </div>\n                <div>\n                    <Box component=\"div\" display=\"inline\">F1: {this.state.f1}</Box>\n                </div>\n                <h5>\n                    Test with your own statistics!\n                </h5>\n                <h6>\n                    {this.state.supColumns}\n                </h6>\n                <TextField id=\"standard-basic\" value={this.state.newInput} onChange={this.setNew} className=\"new\"/>\n                <div class=\"file-field input-field\" >\n                    <Box display=\"flex\" alignSelf=\"flex-end\" justifyContent=\"center\" className=\"upl\">\n                        <a class=\"waves-effect waves-light btn\" onClick={this.sendNewInfo} >Check {this.state.selectedSupColName} based on given statistics</a>\n                    </Box>\n                </div>\n                <div>\n                    <Box component=\"div\" display=\"inline\">Your {this.state.selectedSupColName} has the value {this.state.ynew}</Box>\n                </div>\n            </div>\n        );\n    }\n\n\n\n\n}\n\n\nexport default GolferService;"]},"metadata":{},"sourceType":"module"}